doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title BookTrack
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css", integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN", crossorigin="anonymous")
  body(style="padding: 20px;")
    .header-links.d-flex.justify-content-end.mb-3
        form(action="", method="get")
            button.btn.btn-primary(type="submit") Refresh
        
        form(action="logout", method="post")
            button.btn.btn-danger(type="submit") Log out
    .container-fluid
      .row
        .col-md-6.bg-secondary.text-white.p-4.rounded
          form(method="post" action="/books")
            .mb-3
              label.form-label(for="bookTitle") Title:
              input.form-control(type="text", name="title", id="bookTitle")
            .mb-3
              label.form-label(for="bookAuthor") Author:
              input.form-control(type="text", name="author", id="bookAuthor")
            .mb-3
              label.form-label(for="startDate") Started on:
              input.form-control(type="date", name="startDate", id="startDate")
            .mb-3
              label.form-label(for="finishDate") Finished on:
              input.form-control(type="date", name="finishDate", id="finishDate")
            .mb-3
              label.form-label(for="notes") Notes:
              textarea.form-control#notes(name="notes", rows="3")
            .mb-3
              label.form-label(for="rating") Rating:
              .btn-group.bg-light(role="group", aria-label="Rating")
                input.btn-check(type="radio", name="rating", id="rating1", value="1", autocomplete="off")
                label.btn.btn-outline-primary(for="rating1") 1⭐
                input.btn-check(type="radio", name="rating", id="rating2", value="2", autocomplete="off")
                label.btn.btn-outline-primary(for="rating2") 2⭐
                input.btn-check(type="radio", name="rating", id="rating3", value="3", autocomplete="off")
                label.btn.btn-outline-primary(for="rating3") 3⭐
                input.btn-check(type="radio", name="rating", id="rating4", value="4", autocomplete="off")
                label.btn.btn-outline-primary(for="rating4") 4⭐
                input.btn-check(type="radio", name="rating", id="rating5", value="5", autocomplete="off")
                label.btn.btn-outline-primary(for="rating5") 5⭐
                input(type="hidden", name="action", value="add")
            button.btn.btn-primary(type="submit") Add book
        .col-md-6.p-4
          .row.row-cols-2.g-4
            each book in books
              .col
                form(method="post" action="/books")
                  input(type="hidden", name="action", value="delete")
                  input(type="hidden", name="bookName", value=book.title)
                  .card(style="width: 18rem;")
                    .card-body
                      h5.card-title= book.title
                      h6.card-subtitle.mb-2.text-muted= book.author
                      p= "⭐".repeat(book.rating)
                      p.card-text= book.notes
                      p.card-text Started on: #{book.startDate}
                      p.card-text Finished on: #{book.finishDate}
                      button.btn.btn-danger(type="submit") Delete
